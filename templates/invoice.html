<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <style>
    @page {
      size: A4;
      margin: 1cm;
    }

    body {
      font-family: Helvetica, Arial, sans-serif;
      color: #333;
      font-size: 14px;
      line-height: 1.5;
      margin: 0;
      padding: 20px;
    }

    /* Layout Tables */
    table.layout-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }

    table.layout-table td {
      vertical-align: top;
      padding: 0;
    }

    /* Header */
    .header-title {
      font-size: 24px;
      font-weight: bold;
      color: #10b981;
      /* Emerald 500 */
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .header-meta {
      text-align: right;
    }

    /* Client/Company Boxes */
    .box-container {
      width: 100%;
    }

    .box {
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      width: 45%;
    }

    .box-title {
      font-size: 11px;
      text-transform: uppercase;
      color: #64748b;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .box-content {
      font-size: 14px;
      font-weight: 500;
    }

    /* Items Table */
    table.items-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
    }

    table.items-table th {
      background-color: #1e293b;
      color: #ffffff;
      padding: 12px;
      text-align: left;
      font-size: 12px;
      text-transform: uppercase;
    }

    table.items-table td {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
      color: #334155;
    }

    table.items-table tr:last-child td {
      border-bottom: none;
    }

    /* Summary */
    .summary-table {
      width: 100%;
      margin-top: 20px;
    }

    .summary-label {
      text-align: right;
      padding-right: 20px;
      font-weight: bold;
      color: #64748b;
    }

    .summary-value {
      text-align: right;
      width: 150px;
      font-weight: bold;
      font-size: 16px;
      color: #0f172a;
    }

    /* Payment Info & Footer */
    .footer {
      margin-top: 50px;
      padding-top: 20px;
      border-top: 1px dashed #e2e8f0;
      text-align: center;
      color: #94a3b8;
      font-size: 12px;
    }

    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 99px;
      font-size: 12px;
      font-weight: bold;
      text-transform: uppercase;
    }

    .status-paid {
      background: #dcfce7;
      color: #166534;
    }

    .status-pending {
      background: #fef9c3;
      color: #854d0e;
    }
  </style>
</head>

<body>

  <!-- Header Section -->
  <table class="layout-table">
    <tr>
      <td>
        <div class="header-title">INVOICE</div>
        <div style="color: #64748b; margin-top: 5px;">#{{ date | replace(" ", "") | replace(",", "") }}</div>
      </td>
      <td class="header-meta">
        <div><strong>Date:</strong> {{ date }}</div>
        {% if gstin %}
        <div style="margin-top: 4px;"><strong>GSTIN:</strong> {{ gstin }}</div>
        {% endif %}
      </td>
    </tr>
  </table>

  <!-- Addresses -->
  <table class="layout-table">
    <tr>
      <td style="width: 48%;">
        <div class="box">
          <div class="box-title">From</div>
          <div class="box-content">
            <div style="font-weight: bold; font-size: 15px; margin-bottom: 4px;">{{ companyName }}</div>
            <div style="color: #475569;">{{ address }}</div>
          </div>
        </div>
      </td>
      <td style="width: 4%;"></td> <!-- Spacer -->
      <td style="width: 48%;">
        <div class="box">
          <div class="box-title">Bill To</div>
          <div class="box-content">
            <div style="font-weight: bold; font-size: 15px; margin-bottom: 4px;">{{ clientName }}</div>
            <div style="color: #475569;">{{ clientAddress }}</div>
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- Items -->
  <table class="items-table">
    <thead>
      <tr>
        <th style="width: 50%;">Description</th>
        <th style="text-align: center; width: 15%;">Qty</th>
        <th style="text-align: right; width: 15%;">Rate</th>
        <th style="text-align: right; width: 20%;">Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td>{{ item.description }}</td>
        <td style="text-align: center;">{{ item.quantity }}</td>
        <td style="text-align: right;">{{ currency }} {{ item.rate }}</td>
        <td style="text-align: right;">{{ currency }} {{ item.quantity * item.rate }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Totals -->
  <table class="summary-table">
    <tr>
      <td></td> <!-- Spacer -->
      <td class="summary-label">Total Amount</td>
      <td class="summary-value" style="background: #f1f5f9; padding: 10px; border-radius: 6px;">
        {{ currency }} {{ subtotal }}
      </td>
    </tr>
  </table>

  <!-- Payment Info -->
  {% if paymentMode or paymentStatus %}
  <div style="margin-top: 30px;">
    <table class="layout-table" style="width: auto;">
      {% if paymentMode %}
      <tr>
        <td style="padding-right: 15px; color: #64748b; font-weight: bold;">Payment Mode:</td>
        <td>{{ paymentMode }}</td>
      </tr>
      {% endif %}
      {% if paymentStatus %}
      <tr>
        <td style="padding-right: 15px; color: #64748b; font-weight: bold;">Status:</td>
        <td>
          {{ paymentStatus }}
        </td>
      </tr>
      {% endif %}
    </table>
  </div>
  {% endif %}

  <!-- Footer -->
  <div class="footer">
    <p>Thank you for your business!</p>
    <p style="font-size: 10px; margin-top: 5px;">Generated by PayShot â€¢ payshot.entrext.in</p>
  </div>

</body>

</html>